<section class="panel p">
  <header class="d-head">
    <div>
    <button class="btn ghost" (click)="goBack()">â¬… Back</button>
      <h1>Task Dashboard</h1>
      <p class="muted">Manage and track your tasks.</p>
    </div>
  </header>

  <div class="kpis grid cols-3">
    <div class="kpi">
      <small>Total Tasks</small>
      <h3>{{ counts().total }}</h3>
    </div>
    <div class="kpi">
      <small>In Progress</small>
      <h3>{{ counts().inProgress }}</h3>
    </div>
    <div class="kpi">
      <small>Completed</small>
      <h3>{{ counts().completed }}</h3>
    </div>
  </div>

  <div class="filters panel">
    <div class="filters-inner">
      <input class="input" [(ngModel)]="query" placeholder="Search tasks..." />
      <select class="input" [(ngModel)]="status">
        <option value="all">All Status</option>
        <option value="pending">Pending</option>
        <option value="in-progress">In Progress</option>
        <option value="completed">Completed</option>
      </select>
      <select class="input" [(ngModel)]="priority">
        <option value="all">All Priorities</option>
        <option value="low">Low</option>
        <option value="medium">Medium</option>
        <option value="high">High</option>
      </select>
    </div>
  </div>

  <div class="list">
    <ng-container *ngIf="filtered().length; else empty">
      <app-task-card
        *ngFor="let t of filtered()"
        [task]="t"
        (setStatus)="setStatusFor(t.id, $event)"
        (remove)="remove(t.id)">
      </app-task-card>
    </ng-container>
    <ng-template #empty>
      <div class="empty card">
        <p>No tasks found. Try adding one on the Create Task page.</p>
      </div>
    </ng-template>
  </div>
</section>
